<data> 
  <lookup>
    <values xml:id="id1">
      <value>one a</value>
      <value>one b</value>
      <value>one c</value> 
    </values>
    <values xml:id="id2"> 
      <value>two a</value>
      <value>two b</value> 
      <value>two c</value>
    </values> 
    <values xml:id="id3">
      <value>three</value> 
    </values>
  </lookup> 
  <keys> 
    <key lookup="id1">first</key> 
    <key lookup="id2">second</key>
    <key lookup="id3">third</key>
  </keys> 
</data>

&lt;xf:group ref="instance('data-instance')/keys">
  &lt;xf:repeat nodeset="key"
	     id="lookup-keys-loop">
    &lt;!-- do things with each key -->
    &lt;xf:repeat 
	nodeset="instance('data-instance')/lookup/values[@xml:id = current()/@lookup]/value"
	id="value-loop">
      &lt;!-- do things with value group -->
    &lt;/xf:repeat>

  &lt;/xf:repeat>
&lt;/xf:group>
